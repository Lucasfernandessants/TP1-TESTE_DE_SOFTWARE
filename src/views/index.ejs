<h1>Blog Posts</h1>
<% if (posts.length > 0) { %>
<ul class="posts">
  <% posts.forEach(post => { %>
  <li>
    <a href="/post/<%= post.slug %>" class="posts-title"><%= post.title %></a>
    <div class="post-actions">
      <a href="/post/<%= post.slug %>/edit" class="btn">Edit</a>
      <form
        action="/post/<%= post.slug %>/delete"
        method="post"
        class="posts-form"
      >
        <button type="submit" class="btn">Delete</button>
      </form>
    </div>
  </li>
  <% }) %>
</ul>
<nav class="pagination">

  <% if (totalPages > 1) { %>
    <ul>
      
      <% for (let i = 1; i <= totalPages; i++) { %>
        
        <% let url = ""; %>
        <% if (searchQuery) { %>
          <% url = `/search?q=${searchQuery}&page=${i}`; %>
        <% } else { %>
          <% url = `/?page=${i}`; %>
        <% } %>

        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
          <a href="<%= url %>"><%= i %></a>
        </li>
        
      <% } %>
    </ul>
  <% } %>
</nav>
<% } else { %>
<p>There are no blog posts yet. Why not <a href="/post/new">create one</a>?</p>
<% } %>
